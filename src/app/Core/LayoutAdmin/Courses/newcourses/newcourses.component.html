<p-toast position="top-center" class="text-center"></p-toast>

<form [formGroup]="userform" (ngSubmit)="onSubmit(userform.value)">
  <p-panel header="فرم ثبت مشخصات دوره آموزشی">
    <div class="ui-grid ui-grid-responsive ui-grid-pad ui-fluid" style="margin: 10px 0px">
      <div class="ui-grid-row">
        <div class="ui-grid-col-2">
          عنوان دوره آموزشی <label style="color: red">*</label>:
        </div>
        <div class="ui-grid-col-6">
          <input pInputText type="text" formControlName="title" placeholder=""/>
        </div>
        <div class="ui-grid-col-4">
          <p-message severity="error" text="عنوان دوره آموزشی  را وارد نمائید" *ngIf="!userform.controls['title'].valid&&userform.controls['title'].dirty"></p-message>
        </div>
      </div>
      <div class="ui-grid-row">
      <div class="ui-grid-col-2">
        نوع گروه آموزشی<label style="color: red">*</label>:
      </div>
      <div class="ui-grid-col-6" dir="ltr">
        <p-dropdown [options]="categories" [showTransitionOptions]="'1ms'" [hideTransitionOptions]="'1ms'" formControlName="categories" [filter]="true"></p-dropdown>
      </div>
      <div class="ui-grid-col-4">
        <p-message style="text-align: right" severity="error" text="خلاصه مقاله" *ngIf="!userform.controls['categories'].valid&&userform.controls['categories'].dirty"></p-message>
      </div>
    </div>
      <div class="ui-grid-row">
        <div class="ui-grid-col-2">
         مدرس دوره آموزشی<label style="color: red">*</label>:
        </div>
        <div class="ui-grid-col-6" dir="ltr">
          <p-dropdown [options]="teachers" [showTransitionOptions]="'1ms'" [hideTransitionOptions]="'1ms'" formControlName="teacherID" [filter]="true"></p-dropdown>
        </div>
        <div class="ui-grid-col-4">
          <p-message style="text-align: right" severity="error" text="خلاصه مقاله" *ngIf="!userform.controls['teacherID'].valid&&userform.controls['teacherID'].dirty"></p-message>
        </div>
      </div>
      <div class="ui-grid-row">
        <div class="ui-grid-col-2">
          تعداد فصل <label style="color: red">*</label>:
        </div>
        <div class="ui-grid-col-6">
          <input type="text" pInputText pKeyFilter="num" formControlName="Coursechapter" maxlength="10" >
        </div>
        <div class="ui-grid-col-4">
          <p-message severity="error" text="تعداد فصل را وارد نمائید" *ngIf="!userform.controls['Coursechapter'].valid&&userform.controls['Coursechapter'].dirty"></p-message>
        </div>
      </div>
      <div class="ui-grid-row">
        <div class="ui-grid-col-2">
          قیمت <label style="color: red">*</label>:
        </div>
        <div class="ui-grid-col-6">
                    <input pInputText type="text" value="{{1333|irc:'t'}}" (keydown)="convertPrice($event)" pKeyFilter="num" formControlName="price" placeholder="" maxlength="11"/>
        </div>
        <div class="ui-grid-col-4">
          <p-message severity="error" text="قیمت(هزینه) را به درستی وارد نمائید" *ngIf="!userform.controls['price'].valid&&userform.controls['price'].dirty"></p-message>
        </div>
      </div>
      <div class="ui-grid-row">
        <div class="ui-grid-col-2">
          تعداد مشاهده <label style="color: red">*</label>:
        </div>
        <div class="ui-grid-col-6">
          <input type="text" pInputText pKeyFilter="num" formControlName="viewCount" >

        </div>
        <div class="ui-grid-col-4">
          <p-message severity="error" text="تعداد مشاهده را به درستی وارد نمائید" *ngIf="!userform.controls['viewCount'].valid&&userform.controls['viewCount'].dirty"></p-message>
        </div>
      </div>



      <div class="ui-grid-row">
        <div class="ui-grid-col-2">
          تصویر دوره آموزشی :
        </div>
        <div class="ui-grid-col-6">
          <p-fileUpload name="myfile[]" url="./upload.php" uploadLabel="آپلود" chooseLabel="انتخاب تصویر" cancelLabel="انصراف"></p-fileUpload>
        </div>
        <div class="ui-grid-col-2">
        </div>
      </div>
      <div class="ui-grid-row" style="margin-bottom:8rem">
        <div class="ui-grid-col-2">
          جزئیات دوره آموزشی:
        </div>
        <div class="ui-grid-col-8">
          <quill-editor formControlName="detail"></quill-editor>

        </div>
        <div class="ui-grid-col-2"></div>
      </div>
      <div class="ui-grid-row" style="margin-bottom:8rem">
        <div class="ui-grid-col-2">
          فهرست مطالب:
        </div>
        <div class="ui-grid-col-8">
          <p-panel >
            <div class="ui-grid ui-grid-responsive ui-grid-pad ui-fluid" style="margin: 10px 0px">
           <div class="ui-grid-row">
              <div class="ui-grid-col-2">
                عنوان فصل <label style="color: red">*</label>:
              </div>
              <div class="ui-grid-col-6">
                <input pInputText type="text" formControlName="title" placeholder=""/>
              </div>
              <div class="ui-grid-col-4">
                <p-message severity="error" text="عنوان دوره آموزشی  را وارد نمائید" *ngIf="!userform.controls['title'].valid&&userform.controls['title'].dirty"></p-message>
              </div>
            </div>
            <div class="ui-grid-row">
              <div class="ui-grid-col-2">
                عنوان مطلب <label style="color: red">*</label>:
              </div>
              <div class="ui-grid-col-6">
                <input pInputText type="text" formControlName="title" placeholder=""/>
              </div>
              <div class="ui-grid-col-4">
                <p-message severity="error" text="عنوان دوره آموزشی  را وارد نمائید" *ngIf="!userform.controls['title'].valid&&userform.controls['title'].dirty"></p-message>
              </div>
            </div>
              <div class="ui-grid-row">
                <div class="ui-grid-col-2">
                  فیلم دوره آموزشی :
                </div>
                <div class="ui-grid-col-6">
                  <p-fileUpload name="myfile[]" url="./upload.php" uploadLabel="آپلود" chooseLabel="انتخاب فیلم" cancelLabel="انصراف"></p-fileUpload>
                </div>
                <div class="ui-grid-col-2">
                </div>
              </div>

              <div class="ui-grid-row">
                <div class="ui-grid-col-2">
                </div>
                <div class="ui-grid-col-6">
                </div>
                <div class="ui-grid-col-2">
                  <button pButton type="submit" label="ثبت"></button>

                </div>
              </div>
            </div>
            <hr/>
            <p-table [value]="cols" [paginator]="true" [rows]="5">
              <ng-template pTemplate="header">
                <tr>
                  <th>ردیف</th>
                  <th>عنوان فصل</th>
                  <th>عنوان مطلب</th>
                  <th>لینک فیلم</th>
                </tr>
              </ng-template>
              <ng-template pTemplate="body" let-field let-rowIndex="rowIndex">
                <tr >
                  <td class="text-center">{{rowIndex + 1}}</td>
                  <td>{{field.titlechapter}}</td>
                  <td>{{field.title}}</td>
                  <td>{{field.link}}</td>
                </tr>
              </ng-template>
            </p-table>
          </p-panel>

        </div>

      </div>
      <div class="ui-grid-row">
        <div class="ui-grid-col-2"></div>
        <div class="ui-grid-col-6">
          <button pButton type="submit" label="ثبت دوره جدید" [disabled]="!userform.valid"></button>
        </div>
        <div class="ui-grid-col-4"></div>
      </div>

    </div>
  </p-panel>
</form>

